<!DOCTYPE html>
<html style="height: 100%">

	<head>
		<meta charset="utf-8">
	</head>

	<body style="height: 100%; margin: 0">
		<div id="container" style="height: 100%"></div>
	</body>

</html>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
<script type="text/javascript">
	var myChart = echarts.init(document.querySelector("#container"));
	var geoCoordMap = {
		"海门": [121.15, 31.89],
		"鄂尔多斯": [109.781327, 39.608266],
		"招远": [120.38, 37.35],
		"舟山": [122.207216, 29.985295],
		"齐齐哈尔": [123.97, 47.33],
		"盐城": [120.13, 33.38],
		"赤峰": [118.87, 42.28],
		"青岛": [120.33, 36.07],
		"乳山": [121.52, 36.89],
		"金昌": [102.188043, 38.520089],
		"泉州": [118.58, 24.93],
		"莱西": [120.53, 36.86],
		"日照": [119.46, 35.42],
		"胶南": [119.97, 35.88],
		"南通": [121.05, 32.08],
		"拉萨": [91.11, 29.97],
		"云浮": [112.02, 22.93],
		"梅州": [116.1, 24.55],
		"文登": [122.05, 37.2],
		"上海": [121.48, 31.22],
		"攀枝花": [101.718637, 26.582347],
		"威海": [122.1, 37.5],
		"承德": [117.93, 40.97],
		"厦门": [118.1, 24.46],
		"汕尾": [115.375279, 22.786211],
		"潮州": [116.63, 23.68],
		"丹东": [124.37, 40.13],
		"太仓": [121.1, 31.45],
		"曲靖": [103.79, 25.51],
		"烟台": [121.39, 37.52],
		"福州": [119.3, 26.08],
		"瓦房店": [121.979603, 39.627114],
		"即墨": [120.45, 36.38],
		"抚顺": [123.97, 41.97],
		"玉溪": [102.52, 24.35],
		"张家口": [114.87, 40.82],
		"阳泉": [113.57, 37.85],
		"莱州": [119.942327, 37.177017],
		"湖州": [120.1, 30.86],
		"汕头": [116.69, 23.39],
		"昆山": [120.95, 31.39],
		"宁波": [121.56, 29.86],
		"湛江": [110.359377, 21.270708],
		"揭阳": [116.35, 23.55],
		"荣成": [122.41, 37.16],
		"连云港": [119.16, 34.59],
		"葫芦岛": [120.836932, 40.711052],
		"常熟": [120.74, 31.64],
		"东莞": [113.75, 23.04],
		"河源": [114.68, 23.73],
		"淮安": [119.15, 33.5],
		"泰州": [119.9, 32.49],
		"南宁": [108.33, 22.84],
		"营口": [122.18, 40.65],
		"惠州": [114.4, 23.09],
		"江阴": [120.26, 31.91],
		"蓬莱": [120.75, 37.8],
		"韶关": [113.62, 24.84],
		"嘉峪关": [98.289152, 39.77313],
		"广州": [113.23, 23.16],
		"延安": [109.47, 36.6],
		"太原": [112.53, 37.87],
		"清远": [113.01, 23.7],
		"中山": [113.38, 22.52],
		"昆明": [102.73, 25.04],
		"寿光": [118.73, 36.86],
		"盘锦": [122.070714, 41.119997],
		"长治": [113.08, 36.18],
		"深圳": [114.07, 22.62],
		"珠海": [113.52, 22.3],
		"宿迁": [118.3, 33.96],
		"咸阳": [108.72, 34.36],
		"铜川": [109.11, 35.09],
		"平度": [119.97, 36.77],
		"佛山": [113.11, 23.05],
		"海口": [110.35, 20.02],
		"江门": [113.06, 22.61],
		"章丘": [117.53, 36.72],
		"肇庆": [112.44, 23.05],
		"大连": [121.62, 38.92],
		"临汾": [111.5, 36.08],
		"吴江": [120.63, 31.16],
		"石嘴山": [106.39, 39.04],
		"沈阳": [123.38, 41.8],
		"苏州": [120.62, 31.32],
		"茂名": [110.88, 21.68],
		"嘉兴": [120.76, 30.77],
		"长春": [125.35, 43.88],
		"胶州": [120.03336, 36.264622],
		"银川": [106.27, 38.47],
		"张家港": [120.555821, 31.875428],
		"三门峡": [111.19, 34.76],
		"锦州": [121.15, 41.13],
		"南昌": [115.89, 28.68],
		"柳州": [109.4, 24.33],
		"三亚": [109.511909, 18.252847],
		"自贡": [104.778442, 29.33903],
		"吉林": [126.57, 43.87],
		"阳江": [111.95, 21.85],
		"泸州": [105.39, 28.91],
		"西宁": [101.74, 36.56],
		"宜宾": [104.56, 29.77],
		"呼和浩特": [111.65, 40.82],
		"成都": [104.06, 30.67],
		"大同": [113.3, 40.12],
		"镇江": [119.44, 32.2],
		"桂林": [110.28, 25.29],
		"张家界": [110.479191, 29.117096],
		"宜兴": [119.82, 31.36],
		"北海": [109.12, 21.49],
		"西安": [108.95, 34.27],
		"金坛": [119.56, 31.74],
		"东营": [118.49, 37.46],
		"牡丹江": [129.58, 44.6],
		"遵义": [106.9, 27.7],
		"绍兴": [120.58, 30.01],
		"扬州": [119.42, 32.39],
		"常州": [119.95, 31.79],
		"潍坊": [119.1, 36.62],
		"重庆": [106.54, 29.59],
		"台州": [121.420757, 28.656386],
		"南京": [118.78, 32.04],
		"滨州": [118.03, 37.36],
		"贵阳": [106.71, 26.57],
		"无锡": [120.29, 31.59],
		"本溪": [123.73, 41.3],
		"克拉玛依": [84.77, 45.59],
		"渭南": [109.5, 34.52],
		"马鞍山": [118.48, 31.56],
		"宝鸡": [107.15, 34.38],
		"焦作": [113.21, 35.24],
		"句容": [119.16, 31.95],
		"北京": [116.46, 39.92],
		"徐州": [117.2, 34.26],
		"衡水": [115.72, 37.72],
		"包头": [110, 40.58],
		"绵阳": [104.73, 31.48],
		"乌鲁木齐": [87.68, 43.77],
		"枣庄": [117.57, 34.86],
		"杭州": [120.19, 30.26],
		"淄博": [118.05, 36.78],
		"鞍山": [122.85, 41.12],
		"溧阳": [119.48, 31.43],
		"库尔勒": [86.06, 41.68],
		"安阳": [114.35, 36.1],
		"开封": [114.35, 34.79],
		"济南": [117, 36.65],
		"德阳": [104.37, 31.13],
		"温州": [120.65, 28.01],
		"九江": [115.97, 29.71],
		"邯郸": [114.47, 36.6],
		"临安": [119.72, 30.23],
		"兰州": [103.73, 36.03],
		"沧州": [116.83, 38.33],
		"临沂": [118.35, 35.05],
		"南充": [106.110698, 30.837793],
		"天津": [117.2, 39.13],
		"富阳": [119.95, 30.07],
		"泰安": [117.13, 36.18],
		"诸暨": [120.23, 29.71],
		"郑州": [113.65, 34.76],
		"哈尔滨": [126.63, 45.75],
		"聊城": [115.97, 36.45],
		"芜湖": [118.38, 31.33],
		"唐山": [118.02, 39.63],
		"平顶山": [113.29, 33.75],
		"邢台": [114.48, 37.05],
		"德州": [116.29, 37.45],
		"济宁": [116.59, 35.38],
		"荆州": [112.239741, 30.335165],
		"宜昌": [111.3, 30.7],
		"义乌": [120.06, 29.32],
		"丽水": [119.92, 28.45],
		"洛阳": [112.44, 34.7],
		"秦皇岛": [119.57, 39.95],
		"株洲": [113.16, 27.83],
		"石家庄": [114.48, 38.03],
		"莱芜": [117.67, 36.19],
		"常德": [111.69, 29.05],
		"保定": [115.48, 38.85],
		"湘潭": [112.91, 27.87],
		"金华": [119.64, 29.12],
		"岳阳": [113.09, 29.37],
		"长沙": [113, 28.21],
		"衢州": [118.88, 28.97],
		"廊坊": [116.7, 39.53],
		"菏泽": [115.480656, 35.23375],
		"合肥": [117.27, 31.86],
		"武汉": [114.31, 30.52],
		"大庆": [125.03, 46.58]
	};

	var convertData = function(data) {
		var res = [];
		for(var i = 0; i < data.length; i++) {
			var geoCoord = geoCoordMap[data[i].name];
			if(geoCoord) {
				res.push({
					name: data[i].name,
					value: geoCoord.concat(data[i].value)
				});
			}
		}
		return res;
	};

	option = {
		backgroundColor: '#404a59',
		title: {
			text: '全国主要城市空气质量',
			subtext: 'data from PM25.in',
			sublink: 'http://www.pm25.in',
			x: 'center',
			textStyle: {
				color: '#fff'
			}
		},
		tooltip: {
			trigger: 'item',
			formatter: function(params) {
				return params.name + ' : ' + params.value[2];
			}
		},
		legend: {
			orient: 'vertical',
			y: 'bottom',
			x: 'right',
			data: ['pm2.5'],
			textStyle: {
				color: '#fff'
			}
		},
		visualMap: [{
				type: 'continuous', //类型为连续型
				min: 0, //指定 visualMapContinuous 组件的允许的最小值。'min' 必须用户指定。
				max: 200, //指定 visualMapContinuous 组件的允许的最小值。'min' 必须用户指定。
				range: [0, 200], //指定手柄对应数值的位置。range 应在 min max 范围内。例如：
				calculable: true, //是否显示拖拽用的手柄（手柄能拖拽调整选中范围）。
				realtime: true, //拖拽时，是否实时更新。
				itemWidth: 20, //图形的宽度，即长条的宽度。
				itemHeight: 140, //图形的高度，即长条的高度。
				textGap: 100, //两端文字主体之间的距离
				text: ['最大',"最小"],
				show: true,
				textStyle: {
					color: '#fff'
				},
				hoverLink: true,
				inRange: {
					color: ['#50a3ba', '#eac736', '#d94e5d']
				}
			},
			/**
			 * 定义 在选中范围中 的视觉元素。（用户可以和 visualMap 组件交互，用鼠标或触摸选择范围）
			 * symbol: 图元的图形类别。
			 * symbolSize: 图元的大小。
			 * color: 图元的颜色。
			 * colorAlpha: 图元的颜色的透明度。
			 * opacity: 图元以及其附属物（如文字标签）的透明度。
			 * colorLightness: 颜色的明暗度，参见 HSL。
			 * colorSaturation: 颜色的饱和度，参见 HSL。
			 * colorHue: 颜色的色调，参见 HSL。
			 * */

			{
				type: 'piecewise', //类型为分段型。
				splitNumber: 5, //对于连续型数据，自动平均切分成几段。默认为5段。 连续数据的范围需要 max 和 min 来指定。
				pieces: [], //自定义『分段式视觉映射组件（visualMapPiecewise）』的每一段的范围，以及每一段的文字，以及每一段的特别的样式。例如：[ {min: 900, max: 1500},] ||   {gt: 900, lte: 1500},
				categories: [], //用于表示离散型数据（或可以称为类别型数据、枚举型数据）的全集。 ['严重污染', '重度污染', '中度污染', '轻度污染', '良', '优']
				min: 0, //指定 visualMapPiecewise 组件的最小值。
				max: 200,
				selectedMode: 'multiple',
				itemWidth: 20,
				itemHeight: 14,
				textGap: 10, //每两个图元之间的间隔距离，单位为px。
				showLabel: true, //是否显示每项的文本标签。默认情况是
				itemGap: 10,
				itemSymbol: 'roundRect', //默认的图形。可选值为： 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'
				show: true,
				hoverLink: true, //打开 hoverLink 功能时，鼠标悬浮到 visualMap 组件上时，鼠标位置对应的数值 在 图表中对应的图形元素，会高亮。
				inRange: {
					color: ['#50a3ba', '#eac736', '#d94e5d']
				},
				textStyle: {
					color: '#fff'
				},

				orient: 'vertical',

			}
		],
		geo: { //地理坐标系组件。
			show: true,
			map: 'china', //地图类型。
			roam: false, //是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移，可以设置成 'scale' 或者 'move'。设置成 true 为都开启
			center: [], //当前视角的中心点，用经纬度表示
			aspectScale: 0.75, //这个参数用于 scale 地图的长宽比。
			boundingCoords: null,
			/**
			 * 二维数组，定义定位的左上角以及右下角分别所对应的经纬度
			 * 例: 世界地图经纬度
			 * [ [-180, 90],[180, -90] ]
			 * [ 定位左上角经纬度, 定位右下角经纬度]
			 * */
			zoom: 1,
			scaleLimit: { //滚轮缩放的极限控制，通过min, max最小和最大的缩放值，默认的缩放为1。
				min: 0.5,
				max: 2
			},
			nameMap: { //自定义地区的名称映射，如：
				'china': '中国'
			},
			selectedMode: false, //选中模式，表示是否支持多个选中，默认关闭，支持布尔值和字符串，字符串取值可选'single'表示单选，或者'multiple'表示多选。
			label: {
				show: false,
				position: 'insideRight',
				/**
				 * 标签的位置。
				 * 绝对的像素值  position: [10, 10],
				 * 相对的百分比   position: ['50%', '50%']
				 * 'top'
				 * 'left'
				 * 'right'
				 * 'bottom'
				 * 'inside'
				 * 'insideLeft'
				 * 'insideRight'
				 * 'insideTop'
				 * 'insideBottom'
				 * 'insideTopLeft'
				 * 'insideBottomLeft'
				 * 'insideTopRight'
				 * 'insideBottomRight'
				 * */
				distance: 5, //距离图形元素的距离。当 position 为字符描述值（如 'top'、'insideRight'）时候有效。
				rotate: 0,
				offset: [30, -40], //是否对文字进行偏移。默认不偏移。例如：[30, 40] 表示文字在横向上偏移 30，纵向上偏移 40。
				formatter: '{b}{c}',
			},
			itemStyle: { //地图区域的颜色。
				areaColor: '#323c48',
				borderColor: '#111',
				//color: 自适应,
				borderWidth: 1,
				borderType: 'solid',
				shadowBlur: 0,
				shadowColor: '#000',
				shadowOffsetX: 0,
				shadowOffsetY: 0,
				opacity: 1,
			},
			emphasis: {
				label: {
					color: '#fff'
				},
				itemStyle: {
					areaColor: '#2a333d'
				}
			},
			zlevel: 0,
			z: 2,
			left: 'auto',
			top: 'auto',
			right: 'auto',
			bottom: 'auto',
			layoutCenter: ['50%', '50%'], //在使用 left/right/top/bottom/width/height 的时候，可能很难在保持地图高宽比的情况下把地图放在某个盒形区域的正中间，并且保证不超出盒形的范围。此时可以通过 layoutCenter 属性定义地图中心在屏幕中的位置，layoutSize 定义地图的大小。如下示例
			layoutSize: '80%', //地图的大小
			regions: [{ //在地图中对特定的区域配置样式。
				name: '广东',
				itemStyle: {
					areaColor: 'red',
					color: 'red'
				}
			}],

		},
		series: [{
			name: 'pm2.5',
			type: 'scatter',
			coordinateSystem: 'geo',
			data: convertData([{
					name: "海门",
					value: 9
			},
				{
					name: "泉州",
					value: 21
				},
				{
					name: "莱西",
					value: 21
				},
				{
					name: "日照",
					value: 21
				},
				
			
				{
					name: "福州",
					value: 29
				},
				{
					name: "瓦房店",
					value: 30
				},
				
				
				{
					name: "河源",
					value: 36
				},
				{
					name: "淮安",
					value: 36
				},
				{
					name: "泰州",
					value: 36
				},
				{
					name: "南宁",
					value: 37
				},
				{
					name: "营口",
					value: 37
				},
				{
					name: "惠州",
					value: 37
				},
				{
					name: "江阴",
					value: 100
				},
				{
					name: "蓬莱",
					value: 37
				},
				{
					name: "韶关",
					value: 38
				},
				{
					name: "嘉峪关",
					value: 38
				},
				{
					name: "广州",
					value: 38
				},
				{
					name: "延安",
					value: 190
				},
				{
					name: "太原",
					value: 150
				},
				
			]),
			symbolSize: 12,
			label: {
				normal: {
					show: false
				},
				emphasis: {
					show: false
				}
			},
			itemStyle: {
				emphasis: {
					borderColor: '#fff',
					borderWidth: 1
				}
			}
		}]
	}
	myChart.setOption(option, true);
</script>